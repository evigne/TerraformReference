1
00:00:07,570 --> 00:00:14,830
Now, you may be wondering, what if we used the default row table instead of creating a new one, because

2
00:00:14,830 --> 00:00:19,900
we already have one that we get out of the box for our VPC, right.

3
00:00:20,170 --> 00:00:21,600
Generated by us.

4
00:00:21,610 --> 00:00:29,300
So why can't we just add a new routes to the defaults row table instead of creating a new one?

5
00:00:29,650 --> 00:00:32,740
And there is an option if you want to use the default round table.

6
00:00:33,010 --> 00:00:35,180
And I'm going to show you how to do that as well.

7
00:00:35,620 --> 00:00:37,150
So let's go back to our.

8
00:00:39,000 --> 00:00:49,110
Terraformed config, and let's actually remove this one here, the association, as well as remove the

9
00:00:49,110 --> 00:00:54,510
roots table resource or let's actually comment this out to see the difference.

10
00:00:56,430 --> 00:01:04,290
So first, I'm going to apply this and the round table and association with some that will be removed

11
00:01:04,770 --> 00:01:09,120
and then we'll just edit the default rule table.

12
00:01:11,630 --> 00:01:15,300
So I'm going to refresh this again, and there you go.

13
00:01:15,320 --> 00:01:19,880
We have one row table default one, and that's it.

14
00:01:20,960 --> 00:01:27,890
However, we still have our Internet gateway and we're going to associate this or we're going to configure

15
00:01:27,890 --> 00:01:30,640
this in the default row table.

16
00:01:30,950 --> 00:01:34,450
So we're going to make a second entry in this rot's.

17
00:01:35,300 --> 00:01:44,180
And the way we can configure the default row table is using a resource called Innovest Default.

18
00:01:46,740 --> 00:01:56,010
Round table and again, all of these components of this resource types, you can look them up in the

19
00:01:56,010 --> 00:02:10,050
documentation and let's call it a default round table, or we can also call it main table.

20
00:02:12,480 --> 00:02:15,580
And there are a couple of attributes we need here.

21
00:02:15,810 --> 00:02:21,240
So in the new round table that we defined, we had VPC, ID configures.

22
00:02:21,750 --> 00:02:28,740
However, here we don't need a VPC ID because we're referencing an existing round table.

23
00:02:28,740 --> 00:02:29,090
Right.

24
00:02:29,580 --> 00:02:32,310
So instead we have default.

25
00:02:34,460 --> 00:02:37,770
Round table, I did.

26
00:02:38,240 --> 00:02:46,040
So we need the idea of that round table and we can get that idea actually from the VPC object.

27
00:02:46,340 --> 00:02:51,200
And the way we can do that is actually let's clear this up.

28
00:02:52,070 --> 00:03:02,990
And using terraformed state show command, we can actually reference the BPC object.

29
00:03:04,560 --> 00:03:11,910
So if I do terraformed stage show and the resource name, I can see all the attributes that this resource

30
00:03:11,910 --> 00:03:12,340
has.

31
00:03:12,630 --> 00:03:19,380
However, I need to have that resource existing in my account, otherwise I won't be able to get any

32
00:03:19,560 --> 00:03:20,090
list.

33
00:03:20,490 --> 00:03:24,540
But since the VPC exist, I get the list of all its attributes.

34
00:03:24,990 --> 00:03:29,430
And one of them is, you see here is default row table ID.

35
00:03:30,030 --> 00:03:36,690
So that's how I know how to access the round table Edem in my VPC.

36
00:03:37,320 --> 00:03:44,280
So I'm going to copy that and A.W. as VPC type.

37
00:03:45,030 --> 00:03:49,230
That's actually copy this and copy that again.

38
00:03:49,890 --> 00:03:50,670
And there you go.

39
00:03:50,710 --> 00:03:57,660
So this is our Rapke object and we're referencing an existing round table idea of the main round table

40
00:03:58,140 --> 00:03:58,920
like this.

41
00:03:59,610 --> 00:04:02,480
So we don't have to know the ID value, actually.

42
00:04:03,060 --> 00:04:10,470
So that's the first attribute and actually the only attribute that is different from creating a new

43
00:04:10,470 --> 00:04:11,130
round table.

44
00:04:11,580 --> 00:04:14,520
The rest of the stuff are actually the same.

45
00:04:14,970 --> 00:04:19,710
So again, we are adding a new road, just like we did with the previous one.

46
00:04:20,010 --> 00:04:21,960
The default one is already there.

47
00:04:21,960 --> 00:04:25,770
So we don't have to specify or change or do anything about it.

48
00:04:25,920 --> 00:04:28,110
And we can also give it a tick.

49
00:04:28,620 --> 00:04:32,130
We can actually call it the main or TB.

50
00:04:33,130 --> 00:04:41,650
And I'm going to save this and let's actually plan first and see the preview of this.

51
00:04:44,720 --> 00:04:50,510
Let's see, we have default round table is a new resource.

52
00:04:53,090 --> 00:04:55,070
And let's do a play.

53
00:05:00,720 --> 00:05:03,660
And let's actually refresh.

54
00:05:04,720 --> 00:05:11,620
So, as you see, what happened is that the previous round table got removed and the new one got created

55
00:05:11,620 --> 00:05:13,830
in its place, which is also a main one.

56
00:05:14,680 --> 00:05:19,140
That's why we saw the create and not modify or change.

57
00:05:19,660 --> 00:05:29,050
And if we scroll in the road section here, you see the default local routing and gateway configuration

58
00:05:29,050 --> 00:05:29,650
right here.

59
00:05:29,680 --> 00:05:31,270
And we have the name tags as well.

60
00:05:31,540 --> 00:05:34,450
And we're using the main road table.

61
00:05:35,020 --> 00:05:43,630
And in some associations, we haven't defined any explicit subnet association for this round table.

62
00:05:43,990 --> 00:05:52,750
However, subnets in that we see all the summits that are not explicitly associated are automatically

63
00:05:52,750 --> 00:05:57,100
assigned to the main road table, which happens to be this one.

64
00:05:57,250 --> 00:06:03,680
So we don't have to explicitly do the association again because it will happen by default.

65
00:06:04,270 --> 00:06:12,610
So this is basically how you can use the default resource, in this case a default round table instead

66
00:06:12,610 --> 00:06:13,900
of creating a new one.

67
00:06:14,830 --> 00:06:18,100
And now we can actually remove.

68
00:06:20,380 --> 00:06:21,910
This block of code here.
